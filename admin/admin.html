<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel de Administración - Vení Guapa</title>
<link rel="stylesheet" href="admin.css">
</head>
<body>

    <script>
        // Verificar si el usuario está autorizado, si no, redirigir al login
        if (sessionStorage.getItem("autorizado") !== "true") {
        window.location.href = "login.html";
        }
    </script>

    <h1>Panel de Administración</h1>

    <form id="formProducto">
    <label>Nombre del producto:</label>
    <input type="text" id="nombre" required>

    <label>Precio:</label>
    <input type="text" id="precio" required>

    <label>Categoría:</label>
    <select id="categoria" required>
        <option value="remeras">Remeras</option>
        <option value="blazers">Blazers</option>
        <option value="pantalones">Pantalones</option>
        <option value="vestidos">Vestidos</option>
        <option value="accesorios">Accesorios</option>
    </select>

    <label>Imagen:</label>
    <input type="file" id="imagen" accept="image/*" required>
    
    <div id="preview-container" style="margin-top:1rem; text-align:center;">
    <img id="preview-img" src="" alt="Vista previa" 
        style="max-width: 200px; max-height: 200px; display:none; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1);" />
    </div>

    <button type="submit">Agregar producto</button>
    </form>

    <div class="filtro">
        <label for="filtroCategoria">Filtrar por categoría:</label>
        <select id="filtroCategoria">
            <option value="todas">Todas</option>
            <option value="remeras">Remeras</option>
            <option value="blazers">Blazers</option>
            <option value="pantalones">Pantalones</option>
            <option value="vestidos">Vestidos</option>
            <option value="accesorios">Accesorios</option>
        </select>
    </div>

    <div class="productos" id="listaProductos"></div>

    <script>
const inputImagen = document.getElementById("imagen");
const previewImg = document.getElementById("preview-img");

inputImagen.addEventListener("change", (e) => {
    const file = e.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = (event) => {
            previewImg.src = event.target.result;
            previewImg.style.display = "inline-block";
        };
        reader.readAsDataURL(file);
    } else {
        previewImg.src = "";
        previewImg.style.display = "none";
    }
});
</script>

    <script type="module" src="admin.js"></script>
</body>
</html>